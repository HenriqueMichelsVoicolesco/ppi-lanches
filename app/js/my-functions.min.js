var forms=document.getElementsByClassName("needs-validation"),validation=Array.prototype.filter.call(forms,function(form){form.addEventListener("submit",function(event){!1===form.checkValidity()&&(event.preventDefault(),event.stopPropagation()),form.classList.add("was-validated")},!1)}),id_form=$("input[name=form-check]:checked").val();$("#"+id_form).show(),$("input[name=form-check]").on("change",function(){var id_form=$(this).val();$("form").hide(),$("#"+id_form).show()});var cbx_group=$("input:checkbox[name='diasLanche[]']");$("#btn-t").click(function(){cbx_group.is(":checked")?cbx_group.prop("required",!1):cbx_group.prop("required",!0)}),$("#contador").length&&setInterval(function(){$.ajax({url:"?pagina=read&metodo=numRegistros&ajax=sim",dataType:"JSON",success:function(result){var contador="";0!=result?$.each(result,function(index,data){contador+='<div class="col-lg-5"><p>'+data.curso+" - "+data.semestre+" - "+data.modalidade+": "+data.num_registros+"</p></div>"}):contador+='<div class="col-lg-5"><p> Nenhuma turma requisitou lanche hoje! </p></div>',$("#contador").html(contador)}})},1e3);var metodo=$("form").data("metodo"),url_envio,url_resposta;$("#form-reserva, #form-retirada").length&&($(document).keydown(function(objEvent){9==objEvent.keyCode&&objEvent.preventDefault()}),"reserva"==metodo?(url_envio="?pagina=create&metodo=reservaMatricula&ajax=sim",url_resposta="?pagina=read&metodo=respostaReserva&ajax=sim"):(url_envio="?pagina=create&metodo=retiradaMatricula&ajax=sim",url_resposta="?pagina=read&metodo=respostaRetirada&ajax=sim"),$("form").submit(function(){var matricula=$("input[name=matricula]").val();return matricula&&$.ajax({url:url_envio,type:"GET",data:{id:matricula}}),!1}));var timer=null,timer=setInterval(ajaxReturn,1e3);function ajaxReturn(){$.ajax({url:url_resposta,dataType:"JSON",success:function(response){stopTimer(),display(response)}})}function stopTimer(){timer=clearInterval(timer)}function continueTimer(){timer=setInterval(ajaxReturn,1e3)}function display(response){$("#modal").css("display","flex"),$("#identificacao").text(response.identificacao),$("#mensagem").html(response.mensagem),$("button[name=submit], input[name=matricula]").prop("disabled",!0),setTimeout(function(){$("#modal").css("display","none"),$("button[name=submit], input[name=matricula]").prop("disabled",!1),$("form")[0].reset(),$("form").removeClass("was-validated"),$("input[name=matricula]").focus(),continueTimer()},3e3)}